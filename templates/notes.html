{% extends "base.html" %}
{% block title %}Notes â€” InsecureHub{% endblock %}
{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">ðŸ“‹ My Notes</h1>
        <div class="page-actions">
            <a href="{{ url_for('new_note') }}" class="btn btn-primary btn-sm">+ New Note</a>
        </div>
    </div>

    {% if notes %}
    <div class="item-list-card">
        {% for note in notes %}
        <div class="item-row">
            <div class="item-info">
                <a href="{{ url_for('view_note', note_id=note.id) }}" class="item-title">{{ note.title }}</a>
                <span class="item-meta">
                    ID: <code class="code-inline">{{ note.id }}</code>
                    Â· {% if note.is_private %}<span class="badge-private">Private</span>{% else %}<span
                        class="badge-public">Public</span>{% endif %}
                </span>
            </div>
            <a href="{{ url_for('view_note', note_id=note.id) }}" class="btn btn-ghost btn-xs">View â†’</a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <span class="empty-icon">ðŸ“‹</span>
        <p>No notes yet. Create your first note!</p>
    </div>
    {% endif %}

    <div class="hint-box hint-vuln">
        <span class="hint-title">ðŸ”“ IDOR Hint</span>
        <p>Try accessing notes by ID: <code>/note/1</code> â€” admin's private note!</p>
        <p>Also try the API: <code>/api/note/1</code></p>
    </div>
</div>
{% endblock %}